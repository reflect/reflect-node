<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>reflect-node</h1><p>This is a client for the <a href="https://reflect.io/docs/reference/rest-api">Reflect API</a>.</p>
<p>This library includes support for <a href="#Generating-an-Authentication-Token">generating authentication tokens</a>
as well as <a href="#API-methods">using the Reflect REST API</a>.</p>
<h2>Installation</h2><p>Install reflect-node through npm:</p>
<pre class="prettyprint source lang-bash"><code>$ npm install reflect-node</code></pre><h2>API methods</h2><p>This functionality is currently under development. You can expect to see
expanded support for our various endpoints down the road.</p>
<h3>Getting started</h3><p>After <a href="#Installation">Installation</a>, require <code>reflect-node</code> from your
application:</p>
<pre class="prettyprint source lang-javascript"><code>const Reflect = require('reflect-node');</code></pre><p>For the next step you'll need a Reflect API token. You can find yours by logging
into https://app.reflect.io then navigating to the Tokens section of the Account
page.</p>
<pre class="prettyprint source lang-javascript"><code>const client = new Reflect.Client('my-api-token');</code></pre><p>Once you've created a <code>Client</code> instance, you're ready to make authenticated
requests to the Reflect API using <code>reflect-node</code>.</p>
<p>The documentation below assumes you've completed these two steps, and have an
instance of <code>Client</code> stored in a <code>client</code> variable.</p>
<h4>Resources</h4><p><code>reflect-node</code> is broken up into various resources with methods for manipulating
them. The various resources and their methods are documented below.</p>
<h5>Reporting</h5><p>Our reporting APIs are allow you to query the projects you've previously
configured in Reflect.</p>
<p>We currently only support the <code>report()</code> method. This method accepts four
arguments:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>projectSlug</code></td>
<td>string</td>
<td>The project slug you wish to query</td>
</tr>
<tr>
<td><code>dimensions</code></td>
<td>array</td>
<td>An array of dimension names you wish to query</td>
</tr>
<tr>
<td><code>metrics</code></td>
<td>array</td>
<td>An array of metric names to query</td>
</tr>
<tr>
<td><code>options</code></td>
<td>object</td>
<td>Options to query with</td>
</tr>
</tbody>
</table>
<p>Note that it is required to specify either <code>dimensions</code> or <code>metrics</code>.</p>
<p>This method returns a promise.</p>
<p>Example:</p>
<pre class="prettyprint source lang-javascript"><code>client.reporting.report('my-project', ['Dimension 1'], ['Metric 1'])
  .then((data) => {
    console.log(data);
  })</code></pre><h3>Debugging</h3><p>To debug <code>reflect-node</code>, start your Node environment with the following
environment variable set <code>DEBUG=reflect-node</code>.</p>
<h2>Generating an Authentication Token</h2><p>Here's an example of how you'd generate an encrypted authentication token.</p>
<pre class="prettyprint source lang-javascript"><code>var reflect = require('reflect-node');

var accessKey = 'd232c1e5-6083-4aa7-9042-0547052cc5dd';
var secretKey = '74678a9b-685c-4c14-ac45-7312fe29de06';

var b = new reflect.ProjectTokenBuilder(accessKey)
  .setAttribute('user-id', 1234)
  .setAttribute('user-name', 'Billy Bob')
  .addParameter({
    'field': 'My Field',
    'op': '=',
    'value': 'My Value',
  });

b.build(secretKey, function(err, token) {
  console.log(token);
});</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li><li><a href="ProjectTokenBuilder.html">ProjectTokenBuilder</a></li><li><a href="Reporting.html">Reporting</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Mar 26 2018 11:03:23 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>